# é…ç½®åç§°: QuantumultX é…ç½®
# é…ç½®ä½œè€…: Centralmatrix3
# æ›´æ–°æ—¶é—´: 24-03-03 00:00

#è‡ªå®šä¹‰ç­–ç•¥ç»„çš„ä¸€äº›åŸºæœ¬çŸ¥è¯† 
#ç±»å‹ï¼š
#ä»ä¸Šå¾€ä¸‹åˆ†åˆ«ä¸º
#staticï¼ˆæ‰‹åŠ¨ç­–ç•¥ç»„ æ‰‹åŠ¨é€‰æ‹©èŠ‚ç‚¹ï¼‰å¸¸ç”¨
#availableï¼ˆè‡ªåŠ¨ç­–ç•¥ç»„æŒ‡å½“ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸å¯ç”¨æ—¶ï¼Œè‡ªåŠ¨å¾€ä¸‹å¯»æ‰¾å¯ç”¨èŠ‚ç‚¹ï¼‰åŸºæœ¬æ²¡äººç”¨
#round-robinï¼ˆè‡ªåŠ¨ç­–ç•¥ç»„æŒ‡æŒ‰ç…§é¡ºåºè½®æµä½¿ç”¨é‡Œé¢çš„èŠ‚ç‚¹ï¼‰åŸºæœ¬æ²¡äººç”¨
#dest-hashï¼ˆè‡ªåŠ¨ç­–ç•¥ç»„æŒ‡éšæœºè´Ÿè½½å‡è¡¡ï¼Œä½†ç›¸åŒåŸŸåèµ°ç›¸åŒèŠ‚ç‚¹ï¼‰åŸºæœ¬æ²¡äººç”¨
#url-latency-benchmarkï¼ˆè‡ªåŠ¨ç­–ç•¥ç»„æŒ‡æ ¹æ®è®¾å®šçš„æ—¶é—´è‡ªåŠ¨æ£€æµ‹ç­–ç•¥ç»„é‡Œçš„èŠ‚ç‚¹å»¶è¿Ÿå¹¶é€‰æ‹©ï¼‰å¸¸ç”¨

#éœ€åŒ¹é…çš„èµ„æºæ ‡ç­¾æ­£åˆ™ï¼ˆå¡«è‡ªå·±è®¾ç½®çš„è®¢é˜…åå­—å³å¯ä¹Ÿå¯ä»¥ä¸å¡«ï¼‰å¡«å†™åå¯ä»¥æ›´ç²¾ç¡®çš„ç­›é€‰æƒ³è¦çš„èŠ‚ç‚¹
#éœ€åŒ¹é…çš„èŠ‚ç‚¹æ ‡ç­¾æ­£åˆ™ï¼ˆå¡«éœ€è¦ç•™ä¸‹çš„èŠ‚ç‚¹åç§°æˆ–è€…éœ€è¦è¿‡æ»¤çš„èŠ‚ç‚¹åç§°ï¼‰è‡ªè¡Œäº†è§£æ­£åˆ™è¯­æ³•æˆ–è€…åœ¨æŠ„æˆ‘çš„ å»å°è¯•ä¿®æ”¹  (?=.*(æ—¥æœ¬|æ—¥|JP|(?i)Japan))^((?!(é¦™æ¸¯|å°æ¹¾|éŸ©å›½|æ–°åŠ å¡|ç¾å›½)).)*$ è¿™æ¡æ­£åˆ™çš„æ„æ€æ˜¯ é€‰å–æ‰€æœ‰èŠ‚ç‚¹åç§°å¸¦æ—¥æœ¬æˆ–è€…æ—¥æˆ–è€…JP æˆ–è€…å¤§å°å†™çš„Japanè¿™äº›å­—ç¬¦çš„èŠ‚ç‚¹ï¼Œè¿‡æ»¤æ‰èŠ‚ç‚¹åç§°å¸¦é¦™æ¸¯ å°æ¹¾ éŸ©å›½ æ–°åŠ å¡ ç¾å›½ è¿™äº›å­—ç¬¦çš„èŠ‚ç‚¹ ï¼ˆè‡ªè¡Œç†è§£å§ æ— èƒ½ä¸ºåŠ›äº†

[general]
# general æ¨¡å—å†…ä¸ºä¸€äº›é€šç”¨çš„è®¾ç½®å‚æ•°é¡¹
# ä»£ç†æœåŠ¡æµ‹è¯•
server_check_url = http://cp.cloudflare.com/generate_204

# ç›´è¿ç½‘ç»œæµ‹è¯•
network_check_url = http://taobao.com/

# æœåŠ¡æ£€æŸ¥è¶…æ—¶
server_check_timeout = 3000

# é…ç½®æ–‡ä»¶å›¾æ ‡
profile_img_url = https://github.com/Centralmatrix3/Scripts/raw/master/Gallery/Special/Special001.png

# åœ°ç†ä½ç½®æ£€æŸ¥(äºŒé€‰ä¸€)
# geo_location_checker = disabled
geo_location_checker = http://ip-api.com/json/?lang=zh-CN, https://github.com/Centralmatrix3/Scripts/raw/master/Scripts/IP-API.js

# èµ„æºè§£æå™¨
resource_parser_url = https://github.com/KOP-XIAO/QuantumultX/raw/master/Scripts/resource-parser.js

# æ’é™¤è·¯çº¿
excluded_routes = 239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32

#ç¬¬ä¸€ä¸ªfilterä¸º4gæ¨¡å¼å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬äºŒä¸ªfilterä¸ºå…¶ä»–wifiä¸‹å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬ä¸‰ä¸ªwifi1ä¿®æ”¹æˆä½ è·¯ç”±å™¨ç¿»å¢™çš„wifiåå¼€å¯ç›´è¿æ¨¡å¼ï¼Œç¬¬å››ä¸ªwifi2ä¸ºä½ å…¬å¸æˆ–è€…å…¶ä»–æœ‰è·¯ç”±å™¨ç¿»å¢™çš„WiFiåèµ°ç›´è¿ï¼‰
#é»˜è®¤å…³é—­æ ¹æ®wifiåˆ‡æ¢æ¨¡å¼ï¼Œå¦‚éœ€å¼€å¯ï¼Œåˆ é™¤ä¸‹æ–¹çš„"#"å³å¯
#running_mode_trigger=filter, filter, filter:all_direct, filter: all_direct

# DNSæ’é™¤åˆ—è¡¨
dns_exclusion_list = *.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com

# UDPå›é€€ç­–ç•¥
fallback_udp_policy=direct

# UDPä¸¢å¼ƒåˆ—è¡¨
udp_drop_list = 443

[dns]
# ç¦ç”¨ç³»ç»ŸDNS/IPv6
no-system
no-ipv6

# DNS over HTTP/3
# prefer-doh3

# è‡ªå®šä¹‰ DNS æœåŠ¡å™¨
server=223.5.5.5
server=119.29.29.29
server=114.114.114.114
server=/*icloud.com/119.29.29.29
server=/*icloud.com.cn/119.29.29.29
server=/*tencent.com/119.29.29.29
server=/*weixin.com/119.29.29.29

# è‡ªå®šä¹‰ DoH æœåŠ¡å™¨
# doh-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query

[policy]
# APPç­–ç•¥ç»„ï¼šè‹¹æœæœåŠ¡
# è‡ªåŠ¨æµ‹é€Ÿï¼šUS,HK,SG,TW,JP,KR
# æ‰‹åŠ¨é€‰æ‹©ï¼šGlobal(Low)
  
# è‹¹æœæœåŠ¡
static = è‹¹æœæœåŠ¡, direct, proxy, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/Apple-2.png

# æ¸¯å°ç•ªå‰§
static = æ¸¯å°ç•ªå‰§, direct, proxy, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/StreamingSE.png

# å›½å†…åª’ä½“
static = å›½å†…åª’ä½“, direct, proxy, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/StreamingCN.png

# å›½é™…åª’ä½“
static = å›½é™…åª’ä½“, proxy, direct, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/Streaming.png

# å…¨çƒåŠ é€Ÿ
static = å…¨çƒåŠ é€Ÿ, proxy, direct, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/Global.png

# é»‘ç™½åå•
static = é»‘ç™½åå•, proxy, direct, è‡ªåŠ¨é€‰æ‹©, é¦™æ¸¯èŠ‚ç‚¹, å°æ¹¾èŠ‚ç‚¹, æ—¥æœ¬èŠ‚ç‚¹, éŸ©å›½èŠ‚ç‚¹, ç‹®åŸèŠ‚ç‚¹, ç¾å›½èŠ‚ç‚¹, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/Final.png

# è‡ªåŠ¨é€‰æ‹©
url-latency-benchmark = è‡ªåŠ¨é€‰æ‹©, server-tag-regex=.*, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/Available.png

# é¦™æ¸¯èŠ‚ç‚¹
url-latency-benchmark = HK, server-tag-regex=(?=.*(ğŸ‡­ğŸ‡°|é¦™æ¸¯|æ¸¯|HK|(?i)Hong))^((?!(å°æ¹¾|æ—¥æœ¬|éŸ©å›½|æ–°åŠ å¡|ç¾å›½|0.2)).)*$, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/HK.png

# å°æ¹¾èŠ‚ç‚¹
url-latency-benchmark = å°æ¹¾èŠ‚ç‚¹, server-tag-regex=(?=.*(å°æ¹¾|å°|TW|(?i)Taiwan))^((?!(é¦™æ¸¯|æ—¥æœ¬|éŸ©å›½|æ–°åŠ å¡|ç¾å›½)).)*$, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/TW.png

# æ—¥æœ¬èŠ‚ç‚¹
url-latency-benchmark = æ—¥æœ¬èŠ‚ç‚¹, server-tag-regex=(?=.*(ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|æ—¥|JP|(?i)Japan))^((?!(é¦™æ¸¯|å°æ¹¾|éŸ©å›½|æ–°åŠ å¡|ç¾å›½)).)*$, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/JP.png

# éŸ©å›½èŠ‚ç‚¹
url-latency-benchmark = éŸ©å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(ğŸ‡°ğŸ‡·|éŸ©å›½|éŸ©|KR|(?i)Korea|(?i)SouthKorea))^((?!(é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|æ–°åŠ å¡|ç¾å›½)).)*$, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/KR.png

# ç‹®åŸèŠ‚ç‚¹
url-latency-benchmark = ç‹®åŸèŠ‚ç‚¹, server-tag-regex=(?=.*(ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|SG|(?i)Singapore))^((?!(é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|éŸ©å›½|ç¾å›½)).)*$, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/SG.png

# ç¾å›½èŠ‚ç‚¹
url-latency-benchmark = ç¾å›½èŠ‚ç‚¹, server-tag-regex=(?=.*(ğŸ‡ºğŸ‡¸|ç¾å›½|ç¾|US|(?i)UnitedStates))^((?!(é¦™æ¸¯|å°æ¹¾|æ—¥æœ¬|éŸ©å›½|æ–°åŠ å¡)).)*$, check-interval=1800, tolerance=50, alive-checking=false, img-url=https://raw.githubusercontent.com/Centralmatrix3/Matrix-io/master/Gallery/Color/US.png

[server_local]
# æœ¬åœ°èŠ‚ç‚¹

[server_remote]
# è¿œç¨‹è®¢é˜…

[filter_local]
# æœ€ç»ˆè§„åˆ™
FINAL, é»‘ç™½åå•

[filter_remote]
# è§„åˆ™ä¿®æ­£
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/ruleset/Unbreak.list, tag=è§„åˆ™ä¿®æ­£, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true

# å¹¿å‘Šæ‹¦æˆª
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/ruleset/AdBlock.list, tag=å¹¿å‘Šæ‹¦æˆª, force-policy=reject, update-interval=172800, opt-parser=false, enabled=true

# å›½é™…åª’ä½“
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/ruleset/Streaming.list, tag=å›½é™…åª’ä½“, force-policy=å›½é™…åª’ä½“, update-interval=172800, opt-parser=false, enabled=true

# æ¸¯å°ç•ªå‰§
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/ruleset/StreamingSE.list, tag=æ¸¯å°ç•ªå‰§, force-policy=æ¸¯å°ç•ªå‰§, update-interval=172800, opt-parser=false, enabled=true

# å›½å†…åª’ä½“
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/ruleset/StreamingCN.list, tag=å›½å†…åª’ä½“, force-policy=å›½å†…åª’ä½“, update-interval=172800, opt-parser=false, enabled=true

# å…¨çƒåŠ é€Ÿ
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/ruleset/Global.list, tag=å…¨çƒåŠ é€Ÿ, force-policy=å…¨çƒåŠ é€Ÿ, update-interval=172800, opt-parser=false, enabled=true

# è‹¹æœæœåŠ¡
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/ruleset/Apple.list, tag=è‹¹æœæœåŠ¡, force-policy=è‹¹æœæœåŠ¡, update-interval=172800, opt-parser=false, enabled=true

# LANè§„åˆ™
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/ruleset/LAN.list, tag=LANè§„åˆ™, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true

# å›½å†…è§„åˆ™
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/ruleset/GEOIPCN.list, tag=å›½å†…è§„åˆ™, force-policy=direct, update-interval=172800, opt-parser=false, enabled=true

[rewrite_local]
# æœ¬åœ°é‡å†™

[rewrite_remote]
# é«˜å¾·å»å¹¿å‘Š
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/rewrite/AMAP.conf, tag=é«˜å¾·å»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true

# å“”ç«™å»å¹¿å‘Š
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/rewrite/BiliBili.conf, tag=å“”ç«™å»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true

# å¾®åšå»å¹¿å‘Š
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/rewrite/WeiBo.conf, tag=å¾®åšå»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true

# æ²¹ç®¡å»å¹¿å‘Š
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/rewrite/YouTube.conf, tag=æ²¹ç®¡å»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true

# çŸ¥ä¹å»å¹¿å‘Š
https://raw.githubusercontent.com/Centralmatrix3/Scripts/master/QuantumultX/rewrite/Zhihu.conf, tag=çŸ¥ä¹å»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=true

[task_local]
# åª’ä½“è§£é”æŸ¥è¯¢
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=åª’ä½“è§£é”æŸ¥è¯¢, img-url=play.circle.system, enabled=true

# èŠ‚ç‚¹ä¿¡æ¯æŸ¥è¯¢
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/server-info-plus.js, tag=èŠ‚ç‚¹ä¿¡æ¯æŸ¥è¯¢, img-url=tag.circle.system, enabled=true

# èŠ‚ç‚¹é€ä¸­æŸ¥è¯¢
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/switch-check-google.js, tag=èŠ‚ç‚¹é€ä¸­æŸ¥è¯¢, img-url=drop.circle.system, enabled=true

[http_backend]
# HTTP_Backend

[mitm]
# è·³è¿‡éªŒè¯è¯ä¹¦
skip_validating_cert = false

# å¼ºåˆ¶SNIåŸŸå
force_sni_domain_name = false

# ä¸»æœºå
hostname = -weather-data.apple.com, -buy.itunes.apple.com, -*.icloud.com
